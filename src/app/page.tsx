
"use client";
import { useState, useEffect } from 'react';
import MathChallengeClient from '@/components/math-challenge-client';

export default function SavageMathPage() {
  const [bgColor, setBgColor] = useState<string>('hsl(260, 6%, 10%)'); // Initial background

  useEffect(() => {
    const changeColor = () => {
      const hue = Math.floor(Math.random() * 360);
      const saturation = Math.floor(Math.random() * 30) + 40; // 40-70%
      const lightness = Math.floor(Math.random() * 20) + 10; // 10-30% for dark theme
      setBgColor(`hsl(${hue}, ${saturation}%, ${lightness}%)`);
    };
    const intervalId = setInterval(changeColor, 3000);
    return () => clearInterval(intervalId);
  }, []);

  return (
    <main 
      className="flex min-h-screen flex-col items-center justify-center p-4 sm:p-8 md:p-12 text-foreground transition-colors duration-1000 ease-in-out relative"
      style={{ backgroundColor: bgColor }}
    >
      <div className="w-full max-w-md text-center mb-8">
        <h1 className="text-4xl sm:text-5xl font-headline font-bold mb-2 sm:mb-4">
        Roast nâ€™ Math ðŸ”¥ðŸ’€
        </h1>
        <MathChallengeClient />
      </div>

      <footer className="absolute bottom-4 w-full text-center text-muted-foreground text-sm">
        <div className="inline-flex items-center gap-2">
          <span>Powered by</span>
          <a href="https://3xabrand.vercel.app" target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1 hover:text-foreground transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="80.000000pt" height="36.000000pt" viewBox="0 0 450.000000 202.000000" preserveAspectRatio="xMidYMid meet">
            <metadata fill="#cca2a2">
            Created by potrace 1.10, written by Peter Selinger 2001-2011
            </metadata>
            <g transform="translate(0.000000,202.000000) scale(0.050000,-0.050000)" fill="#cca2a2" stroke="none">
            <path d="M5701 2651 c-13 -16 -35 -24 -48 -19 -49 18 -199 -163 -174 -210 15 -29 16 -42 1 -42 -12 0 -26 13 -32 28 -9 24 -20 23 -67 -4 -55 -31 -58 -30 -128 31 -141 123 -273 111 -419 -38 -92 -92 -104 -99 -172 -87 -156 26 -302 -139 -302 -341 0 -150 -25 -168 -105 -77 -127 145 -687 187 -804 61 -55 -59 -80 -59 -199 2 -64 32 -120 40 -421 57 -239 14 -497 -6 -478 -37 9 -14 -2 -17 -30 -10 -83 22 -172 -21 -243 -115 -37 -49 -75 -90 -84 -90 -70 0 13 -369 101 -448 24 -21 43 -50 43 -64 0 -63 133 -55 206 14 78 72 102 -16 35 -126 -22 -35 -35 -83 -30 -105 5 -23 12 -70 16 -106 6 -63 74 -146 141 -171 38 -15 85 -108 64 -129 -8 -7 -21 -2 -30 12 -9 14 -47 26 -84 27 -75 1 -125 23 -186 79 -183 171 -464 -373 -284 -553 26 -26 43 -53 37 -59 -7 -6 1 -11 17 -12 15 0 59 -27 97 -60 l69 -59 457 0 c437 0 461 2 535 45 l77 44 61 -44 c55 -41 83 -45 310 -45 287 0 313 12 433 205 148 236 170 241 286 60 47 -74 120 -164 160 -200 l74 -65 279 0 279 0 67 59 c61 54 71 57 108 31 23 -16 77 -31 122 -34 44 -3 79 -15 77 -26 -7 -46 230 -35 281 14 85 79 113 151 85 219 -36 87 -9 99 203 93 l188 -6 -6 -100 c-6 -91 0 -107 63 -176 l70 -76 357 6 c272 5 355 12 351 31 -3 14 9 25 25 25 17 0 30 12 30 26 0 15 19 47 43 72 50 55 18 154 -69 211 -27 18 -80 101 -120 186 -128 277 -174 382 -174 400 0 10 -22 64 -50 121 -27 57 -50 117 -50 134 0 16 -9 30 -20 30 -11 0 -20 14 -20 30 0 17 -7 30 -17 30 -9 0 -16 12 -16 27 0 71 -181 449 -251 525 -41 45 -71 88 -66 95 6 7 4 9 -3 3 -7 -5 -24 6 -38 25 -28 38 -320 53 -521 26 l-102 -13 18 80 c10 45 26 86 36 92 35 21 55 112 58 258 1 81 8 155 14 165 6 9 -4 17 -22 17 -38 0 -77 -87 -109 -244 -32 -158 -83 -195 -359 -267 l-222 -58 0 -78 c0 -68 13 -89 102 -171 157 -141 246 -385 134 -366 -51 8 -221 -184 -227 -256 -11 -139 -270 -258 -356 -163 -42 46 -46 99 -6 65 44 -36 93 -5 93 60 0 32 -6 58 -14 58 -33 0 -141 -92 -200 -170 -39 -53 -84 -89 -120 -96 -31 -6 -90 -34 -132 -63 -42 -28 -88 -51 -102 -51 -14 0 -88 -92 -163 -205 -75 -113 -143 -214 -153 -224 -79 -91 4 402 101 598 56 115 103 221 103 235 0 15 13 46 30 70 16 23 37 76 45 118 17 80 77 136 171 157 67 15 27 -41 -61 -87 -50 -26 -62 -117 -21 -158 19 -19 12 -24 -29 -24 -66 0 -86 -55 -55 -150 26 -80 106 -150 169 -150 76 0 72 22 -20 126 -97 107 -104 147 -27 140 177 -16 200 -13 236 25 44 45 76 169 44 169 -12 0 -40 -37 -63 -82 -38 -74 -47 -80 -95 -67 -30 8 -70 16 -89 16 -45 2 -53 -15 86 196 140 213 140 226 13 265 -44 14 -26 52 24 52 43 0 34 120 -11 146 -64 38 -12 209 80 258 35 18 33 11 -13 -43 -54 -65 -71 -148 -34 -171 11 -7 20 0 20 15 0 44 46 89 103 103 45 10 52 6 44 -25 -7 -24 7 -48 39 -69 33 -21 59 -66 76 -133 27 -106 62 -124 167 -83 34 13 35 16 5 28 -19 7 -34 27 -34 43 0 40 -38 40 -53 1 -49 -128 -65 125 -17 282 16 54 30 100 30 102 0 3 -16 0 -35 -7 -19 -6 -8 12 25 40 114 99 250 115 340 42 40 -32 40 -32 0 -18 -117 41 -210 14 -210 -63 0 -14 -20 -28 -44 -32 -65 -9 -88 -112 -30 -136 35 -14 37 -18 9 -19 -50 -2 -44 -40 23 -145 81 -127 93 -128 85 -3 -4 71 -17 114 -35 121 -53 20 -28 38 57 43 187 10 368 130 454 302 33 64 92 144 133 177 40 33 67 70 59 82 -18 30 -41 28 -70 -7z m-482 -458 c-36 -35 -179 -65 -145 -31 18 18 63 33 165 56 5 1 -4 -10 -20 -25z m441 -193 c-29 -41 -60 -60 -96 -61 l-54 0 44 -37 c24 -20 39 -43 32 -50 -7 -6 -3 -12 9 -12 11 0 22 -20 23 -45 1 -25 4 -81 7 -125 8 -127 -44 -112 -121 35 -72 138 -79 175 -34 175 17 0 30 17 30 38 0 24 22 46 60 59 33 12 66 35 72 52 7 17 25 31 42 31 22 0 19 -14 -14 -60z m-165 26 c-37 -6 -74 -37 -115 -96 -80 -116 -113 -134 -62 -33 49 95 112 144 181 140 50 -3 50 -3 -4 -11z m-2275 -214 c0 -5 -45 -36 -101 -71 -55 -34 -138 -96 -185 -139 l-84 -77 -230 -9 c-242 -10 -380 -48 -380 -105 0 -107 -56 -15 -68 112 -7 79 -18 164 -24 188 -10 40 -4 45 59 45 39 0 82 8 97 17 14 9 193 22 396 28 204 7 404 13 445 15 41 2 75 0 75 -4z m936 -24 c3 -10 -12 -21 -34 -24 -89 -14 -88 -54 6 -199 l89 -138 -60 -193 c-33 -107 -67 -194 -75 -194 -8 0 -104 132 -213 293 -224 331 -289 404 -372 421 -31 6 -57 21 -57 34 0 29 707 28 716 0z m2273 -282 c510 -1216 521 -1237 636 -1260 30 -6 55 -24 55 -39 0 -34 -697 -31 -705 3 -3 11 20 23 51 26 81 10 85 45 23 204 l-55 140 -344 0 -345 0 -44 -121 c-55 -153 -49 -207 24 -215 96 -11 67 -64 -35 -64 l-89 0 -68 135 c-136 272 -145 208 118 825 225 530 243 591 179 610 -16 6 -44 14 -61 20 -88 28 18 43 263 37 l273 -6 124 -295z m-3206 61 c-60 -119 -114 -203 -236 -370 l-68 -94 104 -34 c408 -136 421 -693 19 -866 -305 -131 -915 -63 -911 102 7 314 10 335 38 335 15 0 31 -20 35 -45 15 -112 418 -217 600 -157 311 103 177 462 -173 462 l-111 0 0 65 c1 122 350 517 630 714 147 103 167 72 73 -112z m283 -64 c21 -8 36 -21 35 -29 -1 -8 33 -62 75 -119 280 -382 276 -355 85 -545 -67 -66 -121 -126 -121 -135 0 -60 -45 9 -82 127 -25 78 -57 146 -71 152 -15 6 -27 22 -27 35 0 14 -38 68 -84 120 -76 87 -81 99 -56 138 15 24 41 70 57 103 76 155 111 184 189 153z m1943 -308 c-7 -25 -55 -148 -106 -275 -84 -209 -92 -244 -90 -385 4 -214 -45 -199 -231 72 -78 114 -78 146 3 180 85 35 207 159 258 261 70 140 198 253 166 147z m-637 -617 c168 -245 206 -288 282 -322 132 -58 88 -76 -190 -76 l-254 1 -135 205 c-171 261 -172 335 -8 436 97 58 99 56 305 -244z m-909 47 c-4 -97 2 -207 12 -245 15 -57 11 -82 -23 -135 l-42 -65 -235 0 c-196 0 -235 5 -235 30 0 17 14 30 31 30 78 0 153 73 317 309 96 138 177 251 178 251 2 0 1 -79 -3 -175z m1495 -356 c47 -79 49 -89 26 -89 -9 0 -37 36 -62 80 -55 99 -22 107 36 9z" fill="#cca2a2"/>
            <path d="M6010 1265 c-42 -118 -96 -262 -122 -320 l-46 -105 249 0 248 0 -42 105 c-23 58 -77 200 -121 315 -44 116 -82 212 -85 215 -3 3 -39 -91 -81 -210z" fill="#cca2a2"/>
            <path d="M5643 2433 c-14 -17 -22 -52 -18 -77 8 -44 9 -44 32 12 29 70 21 108 -14 65z" fill="#cca2a2"/>
            <path d="M4653 2064 c-23 -37 7 -115 62 -159 69 -56 49 -58 -44 -3 l-71 42 0 -72 0 -72 109 0 c131 0 139 9 92 111 -40 88 -131 182 -148 153z" fill="#cca2a2"/>
            <path d="M5141 1815 c-2 -26 107 -235 122 -235 33 0 38 45 10 86 -50 73 -132 165 -132 149z" fill="#cca2a2"/>
            <path d="M5016 1716 c-19 -14 -66 -71 -105 -125 l-70 -100 73 -75 c104 -107 170 -103 86 4 -42 54 -50 91 -23 108 10 6 42 -35 73 -91 l56 -103 47 78 c64 107 59 151 -28 247 -65 72 -79 80 -109 57z" fill="#cca2a2"/>
            <path d="M4748 1637 c14 -85 48 -167 64 -151 5 4 0 33 -11 63 -32 82 -26 147 14 157 21 6 11 10 -23 12 -56 2 -57 0 -44 -81z" fill="#cca2a2"/>
            <path d="M4664 1609 c-40 -45 8 -156 100 -230 75 -60 76 -60 53 -10 -13 28 -31 51 -40 51 -9 0 -15 7 -13 15 7 22 -51 205 -63 204 -6 0 -23 -14 -37 -30z" fill="#cca2a2"/>
            <path d="M4851 1401 c-17 -27 107 -221 141 -221 49 0 19 106 -50 175 -72 72 -75 73 -91 46z" fill="#cca2a2"/>
            <path d="M4629 1198 c-132 -190 -121 -263 17 -106 42 48 99 94 126 100 56 14 59 29 17 109 -39 77 -29 83 -160 -103z" fill="#cca2a2"/>
            <path d="M4200 1075 c0 -14 -45 -102 -100 -195 -94 -161 -143 -296 -63 -174 21 31 84 99 140 151 105 97 130 168 79 219 -31 31 -56 31 -56 -1z" fill="#cca2a2"/>
            </g>
            </svg>

          </a>
        </div>
      </footer>
    </main>
  );
}
